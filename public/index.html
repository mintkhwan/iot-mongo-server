<!doctype html>
<html ng-app="todoApp">

  <head>

  	<!-- JS & Angular-->
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.13/angular-ui-router.min.js"></script>

	<!-- MomentJS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/locale/th.js"></script>

	<!-- Bootstrap -->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

	
	<!-- Chart -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>

	<!-- include file-->
	<script src="app.js"></script>

  </head>


  <body ng-controller="TodoListController as todoList" ng-init="todoList.start()">
	
	<nav class="navbar navbar-default">
	  <div class="container-fluid">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
	      <a class="navbar-brand glyphicon glyphicon-wrench" href="#">IOT API SERVER</a>
	    </div>

	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	      <ul class="nav navbar-nav navbar-right">
	        <li><a href="login.html" class="glyphicon glyphicon-stats">SIGN IN</a></li>
	        <li><a href="register.html" class="glyphicon glyphicon-user">REGISTER</a></li>
	      </ul>
	    </div>
	  </div>
	</nav>

  	<div class="row">

  		<div class="col-md-3 col-md-offset-1">

	  		<form ng-submit="todoList.addiot(input)" class="form-horizontal">
		  		<div class="form-group">
				  	<label for="">IOT_ID</label>
			      	<input type="text" class="form-control" ng-model="input.iot_id" required/>
				</div>

				<div class="form-group">
				  	<label for="">TEMPERATURE</label>
			      	<input type="text" class="form-control" ng-model="input.temperature"/>
				</div>

				<div class="form-group">
				  	<label for="">RELATIVE_HUMIDITY</label>
			      	<input type="text" class="form-control" ng-model="input.relative_humidity"/>
				</div>

				<div class="form-group">
				  	<center>
		      		<button type="submit" class="btn btn-success glyphicon glyphicon-plus form-control">Add</button>
		      		</center>
				</div>

		   	</form>
  		</div>

  		<div class="col-md-6 col-md-offset-1">

  		<table class="table table-striped">
            <thead>
                <tr>
                    <th class="col-sm-2"><center>No.</th>
                    <th class="col-sm-2"><center>IoT ID</th>
                    <th class="col-sm-2"><center>Temperature</th>
                    <th class="col-sm-2"><center>Relative Humidity</th>
                    <th class="col-sm-2"><center>Date</th>
                    <th class="col-sm-2"><center>Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="show in todoList.iot | limitTo: todoList.limit">
                    <td class="col-sm-2"><center>{{$index+1}}</td>
                    <td class="col-sm-2"><center>{{show.iot_id}}</td>
                    <td class="col-sm-2"><center>{{show.temperature}}</td> 
                    <td class="col-sm-2"><center>{{show.relative_humidity}}</td>
                    <td class="col-sm-2"><center>{{todoList.time(show.timestamp)}}</td>
                    <td class="col-sm-2"><center><button class="btn btn-danger glyphicon glyphicon-trash " ng-click="todoList.deleteiot(show._id,$index)"></button></td>
                </tr>
         
        </table>
        <button class="btn btn-block btn-primary" ng-hide="results.length === todoList.iot.length" ng-click="todoList.loadmore()">load more</button>
 		

  		</div>

	</div>

  </body>
</html>