<!doctype html>
<html ng-app="todoApp">

  <head>

  	<!-- JS & Angular-->
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.13/angular-ui-router.min.js"></script>

	<!-- MomentJS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/locale/th.js"></script>

	<!-- Bootstrap -->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

	
	<!-- Chart -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>

	<!-- include file-->
	<script src="app.js"></script>

  </head>


  <body ng-controller="TodoListController as todoList" ng-init="todoList.start()">

  	<div align="right"><a href="register.html">Register</a></div>
  	<br>
  	<br>

  	<div class="row">

  		<div class="col-md-6">

	  		<form ng-submit="todoList.addiot(input)">
		  		
			  	<h5>iot_id</h5>
		      	<input type="text" class="form-control" ng-model="input.iot_id"/>
		      	<br>

		      	<h5>temperature</h5>
		      	<input type="text" class="form-control" ng-model="input.temperature"/>
		      	<br>

		      	<h5>relative_humidity</h5>
		      	<input type="text" class="form-control" ng-model="input.relative_humidity"/>
		      	<br>

		      	<center>
		      		<button type="submit" class="btn btn-default glyphicon glyphicon-plus">Add</button>
		      	</center>

		   	</form>
  		</div>

  		<div class="col-md-6">

  		<table class="table table-striped">
            <thead>
                <tr>
                    <th class="col-sm-2"><center>No.</th>
                    <th class="col-sm-2"><center>IoT ID</th>
                    <th class="col-sm-2"><center>Temperature</th>
                    <th class="col-sm-2"><center>Relative Humidity</th>
                    <th class="col-sm-2"><center>Date</th>
                    <th class="col-sm-2"><center>Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="show in todoList.iot | limitTo: todoList.limit">
                    <td class="col-sm-2"><center>{{$index+1}}</td>
                    <td class="col-sm-2"><center>{{show.iot_id}}</td>
                    <td class="col-sm-2"><center>{{show.temperature}}</td> 
                    <td class="col-sm-2"><center>{{show.relative_humidity}}</td>
                    <td class="col-sm-2"><center>{{todoList.time(show.timestamp)}}</td>
                    <td class="col-sm-2"><center><button class="btn btn-danger glyphicon glyphicon-trash " ng-click="todoList.delete(show._id,$index)"></button></td>
                </tr> 
            </tbody>    
            
        </table>
        
 <button class="btn btn-block btn-primary" ng-hide="results.length === todoList.iot.length" ng-click="todoList.loadmore()">load more</button>
  			<!-- <div ng-repeat="show in todoList.iot">
  					     	timestamp : {{todoList.time(show.timestamp)}}
  					     	<br>
  					     	iot_id : {{show.iot_id}}
  					     	<br>
  					     	temperature : {{show.temperature}}
  					     	<br>
  					     	relative_humidity : {{show.relative_humidity}}
  					     	<br>
  					     	{{show._id}}
  					     	<br>
  					     	<button class="btn btn-danger glyphicon glyphicon-remove " ng-click="todoList.deleteiot(show._id,$index)"></button>
  			
  						</div> -->

  		</div>

	</div>

  </body>

</html>